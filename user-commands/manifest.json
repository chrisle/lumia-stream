{
  "id": "triodeofficial_user_commands",
  "name": "Custom User Commands",
  "version": "1.0.0-rc.2",
  "author": "TRIODEOfficial",
  "email": "chris@triodemusic.com",
  "website": "",
  "repository": "https://github.com/chrisle/lumia-stream",
  "description": "Let your community create and share custom chat commands! Give viewers the power to add their own commands that anyone in chat can use.",
  "license": "MIT",
  "lumiaVersion": "^9.0.0",
  "category": "chat",
  "keywords": "commands, chat, twitch, custom, vip, subscriber",
  "icon": "assets/icon.png",
  "changelog": "![Logo](assets/logo.png)\n\n**Let your community create and share custom chat commands! Give viewers the power to add their own commands that anyone in chat can use.**\n\n---\n\n**Example:**\n\n<span style=\"color:#00FFFF\"><b>TRIODEOfficial</b></span>: !command add hug @{displayname} hugs @{message}!<br/>\n<span style=\"color:#5555FF\"><b>LumiaStreamBot</b></span>: !hug has been created.<br/>\n<span style=\"color:#FF69B4\"><b>Lexie</b></span>: !hug @TRIODEOfficial</span><br/>\n<span style=\"color:#5555FF\"><b>LumiaStreamBot</b></span>: <span style=\"color:#FF69B4\">@Lexie</span> hugs <span style=\"color:#00FFFF\">@TRIODEOfficial</span>!<br/>\n\n---\n## Change log\n\n### v0.9.0-beta.1\n- Initial beta release\n- Add, edit, delete, and list custom commands\n- Support for {displayname} and {message} variables\n\n---\nMade with ‚ù§Ô∏è in San Francisco, California by [@TRIODEOfficial](https://twitch.tv/TRIODEOfficial)",
  "config": {
    "settings": [
      {
        "key": "allowModsToManage",
        "label": "Allow MODs to modify anyone's commands",
        "type": "toggle",
        "defaultValue": true,
        "helperText": "When enabled, moderators can edit and delete any custom command, not just their own."
      }
    ],
    "settings_tutorial": "---\n![Logo](assets/logo.png)\n\n**üìñ Instructions also available here:** [Setup on GitHub](https://github.com/chrisle/lumia-stream/blob/main/user-commands/settings_tutorial.md)\n\n---\n\n## Setup\n\n**Step 1:** Download the chat command file:<br/>\n[command_command.lumia](https://github.com/chrisle/lumia-stream/raw/main/user-commands/extra/command_command.lumia)\n\n**Step 2:** Go to Chat Commands and click Import\n\n![Import](assets/import1.png)\n\n**Step 3:** Click \"Import from file\" and select the file you downloaded\n\n![Import from file](assets/import2.png)\n\n**Step 4:** A new `!command` chat command will be added\n\n![Command added](assets/command1.png)\n\n**Step 5:** Go to Chat Match and add a new match\n\n![Chat Match](assets/chatmatch1.png)\n\n**Step 6:** Disable \"Show this command in the !commands page\"\n\n![Disable show command](assets/chatmatch2.png)\n\n**Step 7:** Set Light Change to \"No Light Change\"\n\n![No light change](assets/chatmatch3.png)\n\n**Step 8:** Go to Chatbot and disable it\n\n![Disable chatbot](assets/chatmatch4.png)\n\n**Step 9:** Go to Actions. Set \"Action Source\" to \"Custom User Commands\" and \"Type\" to \"Execute Command\" (everything else will be set automatically). Then click \"Add Action\".\n\n![Actions setup](assets/chatmatch5.png)\n\n**Step 10:** Click \"Apply\"\n\n![Apply](assets/chatmatch6.png)\n\n**Step 11:** Name it `User Commands` and set the match to `^!.*`\n\n![Match pattern](assets/chatmatch7.png)\n\n---\n\n## Customizing\n\nBy default only VIPs, Tier 2, Tier 3, and Mods can create commands. To change this, edit the chat command and adjust the User Level settings.\n\n![Customize permissions](assets/command2.png)\n\n---\n\n## Usage\n\n- `!command add <name> <response>` - Create a command\n- `!command edit <name> <response>` - Edit a command\n- `!command delete <name>` - Delete a command\n- `!command list` - List all commands\n\n**Supported Variables in Responses:**\n- `{displayname}` - Display name of the user who triggered the command\n- `{message}` - Arguments passed to the command\n\nNote: Only these two variables are allowed in custom command responses.\n---",
    "actions_tutorial": "---\n### Manage Command\nUse this action with Chat Match to handle `!command add/edit/delete/list` messages.\n\n### Execute Command\nUse this action with Chat Match to execute custom commands when viewers type them.\n---",
    "actions": [
      {
        "type": "manage_command",
        "label": "Manage Command",
        "description": "Handle !command add/edit/delete/list operations",
        "fields": [
          {
            "key": "userId",
            "label": "User ID",
            "type": "text",
            "placeholder": "The unique ID of the sender",
            "defaultValue": "{{userId}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{userId}}"
            },
            "allowVariables": true
          },
          {
            "key": "displayName",
            "label": "Display Name",
            "type": "text",
            "placeholder": "The display name of the sender",
            "defaultValue": "{{displayname}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{displayname}}"
            },
            "allowVariables": true
          },
          {
            "key": "isMod",
            "label": "Is Moderator",
            "type": "text",
            "placeholder": "Whether the user is a moderator",
            "defaultValue": "{{userLevels.moderator}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{userLevels.moderator}}"
            },
            "allowVariables": true
          },
          {
            "key": "isBroadcaster",
            "label": "Is Broadcaster",
            "type": "text",
            "placeholder": "Whether the user is the broadcaster",
            "defaultValue": "{{userLevels.broadcaster}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{userLevels.broadcaster}}"
            },
            "allowVariables": true
          },
          {
            "key": "arguments",
            "label": "Arguments",
            "type": "text",
            "placeholder": "The arguments passed with the command (e.g. 'add greet Hello!')",
            "defaultValue": "{{message}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{message}}"
            },
            "allowVariables": true
          }
        ]
      },
      {
        "type": "execute_command",
        "label": "Execute Command",
        "description": "Execute a user-created custom command",
        "fields": [
          {
            "key": "command",
            "label": "Command",
            "type": "text",
            "placeholder": "The command name (e.g. 'greet' for !greet)",
            "defaultValue": "{{command}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{command}}"
            },
            "allowVariables": true
          },
          {
            "key": "displayName",
            "label": "Display Name",
            "type": "text",
            "placeholder": "The display name of the sender",
            "defaultValue": "{{displayname}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{displayname}}"
            },
            "allowVariables": true
          },
          {
            "key": "arguments",
            "label": "Arguments",
            "type": "text",
            "placeholder": "The arguments passed with the command (e.g. 'Hello!')",
            "defaultValue": "{{message}}",
            "required": true,
            "allowTyping": false,
            "validation": {
              "pattern": "{{message}}"
            },
            "allowVariables": true
          }
        ]
      }
    ],
    "variables": [
      {
        "name": "triode-user-commands",
        "description": "JSON string storing all custom commands",
        "value": "{}"
      },
      {
        "name": "lastResponse",
        "description": "The last response message sent by the plugin",
        "value": ""
      }
    ],
    "alerts": []
  },
  "main": "main.js"
}
